{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getImages(query, currentPage) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const params = {\n    key: \"43196488-b1a28e2a6e2ea3f6c7718f6c5\",\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    page: currentPage,\n    per_page: 15,\n  }\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  const res = await axios.get(url, { params, });\n  return res.data;\n}","import { gallery } from \"../main\";\n\nfunction imageTemplate(obj) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = obj;\n  return `<li class=\"photos-list-item\">\n      <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n        <img loading=\"lazy\" class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Likes</span></br>${likes}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Views</span></br>${views}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Comments</span></br>${comments}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Downloads</span></br>${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imageTemplate).join(\"\");\n}\n\nexport function renderImages(arr) {\n  const markup = imagesTemplate(arr);\n  gallery.insertAdjacentHTML(\"beforeend\", markup)\n}\n\n\n\n\n\n\n\n\n\n// export function queryTemplate(data) {\n//   return data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n//     return `<li class=\"photos-list-item\">\n//       <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n//         <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n//       </a>\n//       <ul class=\"photo-information-container\">\n//         <li class=\"item-photo-information-container\">\n//           <p><span class=\"accent\">Likes</span></br>${likes}</p>\n//         </li>\n//         <li class=\"item-photo-information-container\">\n//           <p><span class=\"accent\">Views</span></br>${views}</p>\n//         </li>\n//         <li class=\"item-photo-information-container\">\n//           <p><span class=\"accent\">Comments</span></br>${comments}</p>\n//         </li>\n//         <li class=\"item-photo-information-container\">\n//           <p><span class=\"accent\">Downloads</span></br>${downloads}</p>\n//         </li>\n//       </ul>\n//     </li>`\n//   }).join(\"\");\n// }","// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImages } from \"./js/pixabay-api.js\"\nimport { renderImages } from \"./js/render-functions.js\";\n// import { queryTemplate } from \"./js/render-functions.js\";\n\n// -----------------------------------------------------------------------\n\nexport const gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".form\");\nconst loading = document.querySelector('.loading');\nconst btnLoadMore = document.querySelector(\".button-load-more\");\n\nlet query;\nlet currentPage = 1;\n\n// -----------------------------------------------------------------------\n\nform.addEventListener(\"submit\", handleSubmit);\nasync function handleSubmit(event) {\n  event.preventDefault();\n  query = event.target.elements.query.value.trim();\n  gallery.innerHTML = \"\";\n  const data = await getImages(query, currentPage);\n  renderImages(data.hits);\n  showLoadMore()\n}\n\nbtnLoadMore.addEventListener(\"click\", handleClick);\n\nasync function handleClick() {\n  currentPage += 1;\n  const data = await getImages(query, currentPage);\n  renderImages(data.hits);\n  showLoadMore()\n}\n\n// -----------------------------------------------------------------------\n\nfunction showLoadMore() {\n  btnLoadMore.classList.remove(\"hidden\");\n}\n\nfunction hideLoadMore() {\n  btnLoadMore.classList.add(\"hidden\");\n\n}\n\n// -----------------------------------------------------------------------\n"],"names":["getImages","query","currentPage","BASE_URL","END_POINT","params","url","axios","imageTemplate","obj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderImages","markup","gallery","form","btnLoadMore","handleSubmit","event","data","showLoadMore","handleClick"],"mappings":"svBAEO,eAAeA,EAAUC,EAAOC,EAAa,CAClD,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,CACb,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EACX,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAG7C,OADY,MAAME,EAAM,IAAID,EAAK,CAAE,OAAAD,CAAM,CAAG,GACjC,IACb,CChBA,SAASG,EAAcC,EAAK,CAC1B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,0CACiCE,CAAa;AAAA,iDACND,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qDAItBC,CAAK;AAAA;AAAA;AAAA,qDAGLC,CAAK;AAAA;AAAA;AAAA,wDAGFC,CAAQ;AAAA;AAAA;AAAA,yDAGPC,CAAS;AAAA;AAAA;AAAA,UAIlE,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIV,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASW,EAAaD,EAAK,CAChC,MAAME,EAASH,EAAeC,CAAG,EACjCG,EAAQ,mBAAmB,YAAaD,CAAM,CAChD,CCrBO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAClDC,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAc,SAAS,cAAc,mBAAmB,EAE9D,IAAItB,EACAC,EAAc,EAIlBoB,EAAK,iBAAiB,SAAUE,CAAY,EAC5C,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EACpBxB,EAAQwB,EAAM,OAAO,SAAS,MAAM,MAAM,OAC1CJ,EAAQ,UAAY,GACpB,MAAMK,EAAO,MAAM1B,EAAUC,EAAOC,CAAW,EAC/CiB,EAAaO,EAAK,IAAI,EACtBC,EAAc,CAChB,CAEAJ,EAAY,iBAAiB,QAASK,CAAW,EAEjD,eAAeA,GAAc,CAC3B1B,GAAe,EACf,MAAMwB,EAAO,MAAM1B,EAAUC,EAAOC,CAAW,EAC/CiB,EAAaO,EAAK,IAAI,EACtBC,EAAc,CAChB,CAIA,SAASA,GAAe,CACtBJ,EAAY,UAAU,OAAO,QAAQ,CACvC"}